# 复习总结

## 第一章 软件测试概述

### 软件测试概念

- 定义1：IEEE提出，使用人工或自动手段运行或测定某系统的过程，目的在于**检验是否满足规定的需求**，或**弄清预期结果与实际结果之间的差别**。
- 定义2：**利用测试用例执行程序，以发现软件故障**。强调**寻找故障**。
- 定义3：软件中质量保证活动，动机是通过经济有效的方法发现软件缺陷，保证软件质量。

### 软件测试过程

单元测试——>集成测试——>确认测试——>系统测试——>验收测试

1. 单元测试
   - 目的：检测程序模块中有无故障存在。
   - 对象：软件设计的最小单位，与程序设计和程序实现关系密切。
2. 集成测试
   - 目的：发现与接口有关的模块之间的问题。
   - 方法：非增式和增式集成测试法。
3. 确认测试
   - 目的：对产品进行评估，确定是否满足软件需求的过程。
4. 系统测试
   - 目的：针对系统中各个组成部分进行的综合性**检验**。
   - 对测试人员的要求
     - 系统开发人员不能进行测试
     - 系统开发组织不能进行
5. 验收测试
   - 目的：向用户表明所开发的系统达到预期。
   - 主要任务：
     - 明确规定验收测试标准
     - 确定验收测试方法
     - 确定验收测试的组织和可利用的资源
     - 确定测试结果的分析方法
     - 制定验收测试计划并进行评审
     - 设计验收测试的测试用例
     - 审查验收测试的准备工作
     - 执行验收测试
     - 分析测试结果，决定是否通过验收

### 软件测试与软件开发的关系

#### 软件开发过程

1. 计划
2. 需求分析
3. 设计
4. 程序编写
5. 测试
6. 运行和维护

#### 软件测试在软件开发中的作用

- **待完善**

#### 软件测试过程模型

- V模型
- W模型
- H模型
- X模型

### 软件测试的原则

#### 尽早地和不断地进行软件测试

- 缺陷存在放大趋势
- 问题发现越早，解决问题代价越小，黄金法则。

#### 不可能测试完全

- 不可能测试对**所有可能输入**的响应
- 不可能测试到**每一条可能的执行路径**
- 无法找出**所有的设计错误**
- 不能采用逻辑**证明程序正确性**

#### 增量测试，由小到大

#### 避免测试自己的程序

- **不会承认**自己的程序错误
- **测试思路**局限，受到编程思路的影响
- 程序员没受严格整个训练，缺乏意识
- 没有错误跟踪和回归测试的习惯

#### 注意错误集中的现象

“**扎堆**”现象常见形式：

- 对话框某控件无用，其他也无用
- 文本框问题
- 联机文字翻译包含错误，相邻上下段文字包含问题
- 安装对话框的“上一步”和“下一步”按钮截断，其他也截断

#### 确认BUG的有效性

- **A发现的Bug一定要由B测试人员来进行确认。**

#### 合理安排测试计划

- 有助于测试工作顺利有序进行，结合多种针对性强的测试方法、列出所有可使用资源，建立一个正确的测试目标。
- 本着**严谨、准确**的原则，周到细致地做好测试前期准备工作，避免测试随意性。科学合理安排测试时间。

## 第二章 软件缺陷

### 软件缺陷概述

#### 软件缺陷的定义（按照缺陷的**来源**分）

1. 文档缺陷：静态审查过程中发现。
2. 代码缺陷：代码评审、走查等过程中发现。
3. 测试缺陷：测试活动中发现。
4. 过程缺陷：过程审计、过程分析、管理评审等活动中发现关于过程的缺陷。发现者一般是质量经理、测试经理、管理人员。

#### 软件缺陷的种类（缺陷的**本质**）

1. 输入/输出缺陷
2. 逻辑缺陷
3. 计算缺陷
4. 接口缺陷
5. 数据缺陷

#### 软件缺陷数目估计

1. 撒播模型
2. 静态模型
3. 覆盖率预测模型（**需要记下来**）  
   - 错误与时间曲线
   - 错误与覆盖率曲线
   - 覆盖率与时间曲线

### 软件缺陷管理

#### 缺陷管理的目标

- 确保每个被发现的缺陷都能被解决（并不一定修正）。
- 收集缺陷数据，并根据缺陷趋势曲线识别测试过程的阶段。
- 收集缺陷数据，并在其上进行数据分析，作为组织的过程财富。

## 第三章 黑盒测试

### 黑盒测试基本概念

- 黑盒测试：不考虑内部，依据输入输出设计测试。
- 白盒测试：依据内部实现逻辑设计测试。

#### 测试用例

- 输入数据、操作或环境设置以及期望结果的特定集合。
- 解决要测什么、怎么测和如何衡量的问题。  
 测试数据、操作步骤、预期结果
- 测试用例的用途
  1. 核实需求
  2. 监督过程
  3. 评估结果
  4. 准确回归
  5. 防止遗漏
  6. 提高效率

黑盒测试是从用户观点出发的测试，其目的是尽可能发现软件的外部行为错误。

- 检测软件功能能否按照需求规格说明书的规定正常工作，是否有**功能遗漏**。
- 检测是否有人机**交互错误**，是否有数据**访问错误**，是否能恰当接收数据并保持外部信息等的完整性。
- 检测**行为、性能等特性**是否满足要求。
- 检测程序初始化和终止方面的错误。

黑盒测试着眼软件外部特征，确定所实现的功能是否按照软件规格说明书的预期要求正常工作。  
两个显著优点：

- 黑盒测试与软件**具体实现无关**，软件实现发生了变化，测试用例依然可以使用。
- 设计黑盒测试用例可以和软件实现**同时进行**，因此可以压缩项目总的开发时间。

### 等价类划分

等价类划分是典型方法。只根据程序规格说明书对**输入范围**进行划分，把所有可能的输入数据（输入域）划分为若干个**互不相交的子集**。

#### 等价类划分方法

所谓等价类是指输入域的某个不互相交的子集合，所有等价类的并就是整个输入域。

1. 划分等价类
   - 有效等价类  
检验程序是否实现了规格说明书预先规定的功能和性能。
   - 无效等价类  
检查不符合规格说明要求的地方。
2. 常用的等价类划分原则
   - 按区间划分
   - 按数值划分
   - 按数值集合划分
   - 按限制条件或规则划分
   - 细分等价类  
3. 等价类划分测试用例设计  
设计测试用例时同时考虑有效/无效等价类测试用例的设计，根据等价类表设计测试用例。
   1. 确认输入需求及输入项。
   2. 为每个等价类规定唯一编号。
   3. 设计一个新的测试用例，**尽可能多地**覆盖尚未被覆盖地**有效等价类**，重复这一步，直至覆盖了所有（包括输出域）。
   4. 设计新的测试用例，使其覆盖**并且只覆盖一个**还未覆盖地无效等价类。重复这一步，直至覆盖所有无效等价类。

### 边界值分析法

- **实践表明**，故障往往出现在**定义域或值域的边界上**，而非内部。
- 边界值分析法很实用，且具有很强的发现故障的能力。

#### 边界值分析法的原理

1. 边界条件
   - 边界是一些特殊情况。程序在处理大量中间数值时都正确，但在边界处可能出错。边界条件是软件计划的操作界限所在的边缘条件。
   - 一些可能与边界有关的数据类型：数值、速度、地址、字符等。
   
   边界值和等价类密切相关，输入等价类和输出等价类的边界是着重测试的边界情况。等价类划分过程产生许多等价类边界。**从等价类中选取测试数据时应关注边界值**。  
   
   在**等价类划分基础上**进行边界值分析测试。选取正好等于，刚刚大于，刚刚小于等于等价类边界的值作为测试数据。  
2. 边界值分析测试  
对于一个**n变量**的程序，边界值分析测试会产生**4n+1**个测试用例。
3. 健壮性边界值测试
   - 是边界值分析的一种扩展。
   - 除了取min、min+、nom、max-、max外，还会取max+和min-。
   - 将产生**6n+1**个测试用例。
   - 有意义的不是输入，而是预期的输出，观察例外情况如何处理。

#### 边界值分析法的局限性

基于函数输入定义域的测试方法，所有测试中最基本的。  
这类方法都假设**输入变量是真正独立的**。  
不能保证假设，则方法不能令人满意。

### 因果图法

等价类划分法和边界值分析法着重考虑输入条件，如果程序输入之间没有联系，采取这两种方法会很有效。  
如果**输入之间有关系**，如，约束关系、组合关系，则需要描述对于多种**条件的组合**，产生多个相应动作的测试方法——因果图。

#### 因果图法的原理

<恒等、非、或、与>  
约束：输入状态之间的某些依赖关系。

- 输入条件的约束  
 E（异或，至多一个为1）、I（或，至少一个为1）、O（唯一，只有一个为1）、R（需要，a为1则b必为1）。
- 输出条件的约束  
 M（强制，表示a为1， b必须为0）

因果图法测试用例的设计步骤

- 确定软件规格中的原因与结果。
- 确定原因与结果之间的逻辑关系。根据关系画出因果图。
- 确定因果图中的各个约束。
- 把因果图转换为决策表。
- 根据决策表设计测试用例。

### 决策表法

1. 决策表
把作为条件的所有输出的各种组合值以及对应输出值都罗列出来形成的表格。  
简明避免遗漏。能设计出完整的测试用例集合。  
决策表通常由条件桩、条件项、动作桩和动作项4部分组成。
2. 决策表的构造和简化
   1. 列出所有条件桩和动作桩。
   2. 确定规则的个数。
   3. 填入条件项。
   4. 填入动作项，得到初始决策表。
   5. 简化决策表，合并相似规则。
   - 决策表的简化：表中两条以上规则具有相同动作，且条件之间存在极为相似的关系，便可以合并。

### 黑盒测试方法的比较与选择

1. 测试工作量（生成测试用例的数量和开发这些测试用例所需的工作量）  
测试用例数量（执行时长）：
   > - 边界值分析不考虑数据或逻辑依赖关系，机械地根据边界生成测试用例。
   > - 等价类划分关注数据依赖关系和函数本身，考虑如何划分等价类，随后机械生成测例。
   > - 决策表技术最精细，既考虑数据，也考虑逻辑依赖关系。  
   
   生成测例的工作量：
   > - 决策表测试用例生成工作量最大，但生成测试用例少，机器执行时间短。
   > - 边界值分析法使用简单，但生成大量测试用例，机器执行时间长。
   
   在开发测试用例工作量和测试执行工作量之间折中。
2. 测试有效性

## 白盒测试

### 白盒测试特性

#### 白盒测试的特性

- 透明测试、逻辑驱动测试
- 测试被测单元内部如何工作的一种测试方法
- 允许测试人员根据程序内部逻辑结构及有关信息来设计和选择测试用例，对程序的逻辑结构进行测试。
- 可覆盖全部代码、分支、路径和条件等。

#### 白盒测试与黑盒测试比较

- 联系：  
 白盒测试和黑盒测试都是软件测试一个方面，有时结合起来测试，“灰盒测试”。
- 区别：  
  1. 白盒测试：
     - 需要源代码；
     - 无法检验程序外部特性，无法测试遗漏的需求；
     - 关心程序内部结构、逻辑以及代码可维护性；
     - 编码、集成测试阶段进行。
  2. 黑盒测试：
     - 不需要源代码，需要可执行文件；
     - 从用户角度出发进行测试；
     - 关心程序的外在功能和非功能表现；
     - 确认测试、系统测试阶段进行。

#### 白盒测试的策略（待完善）

1. 桌前检查
   - 程序员检查自己程序
   - 检查风格、常变量等，补充桌前检查文档
2. 同行检查
   - 小组负责人提前把设计规格说明书、控制流图、程序文本以及有关规范要求等分发给小组成员；
   - 召开程序审查会，程序员逐句讲解逻辑，其他成员提问，讨论；
   - 会后把发现的错误登记造表给程序员；若错误较多，改正后在评审。
3. 代码走查
   - 会前发材料；
   - 小组集体扮演计算机角色，沿程序逻辑运行测试用例，记录轨迹，分析讨论。
4. 静态分析
   - 结构分析
   - 质量度量
   - 模式匹配
5. 单元测试
   - 逻辑覆盖
   - 功能验证
   - 辅助插装
   - 程序变异

### 逻辑驱动覆盖测试

#### 特性

- 针对程序内部逻辑结构设计测试用例
- 通过运行测试用例达到逻辑覆盖目的
- 是最传统最经典的白盒测试技术
- 要求测试人员对程序的逻辑结构非常清楚

#### 基本概念

- 有向图
- 函数的控制流程图
 具有**单一的、固定的**入口节点和出口节点的有向图。

#### 控制流覆盖准则

- 覆盖准则
  1. 评价白盒测试测例的好坏
  2. 测试结束的量化指标
- 语句覆盖准则  
 **每条可执行语句至少执行一次。**
- 分支覆盖准则  
 **每条判断语句取真和取假的分支至少执行一次。**
- 谓词覆盖准则
  1. 原子谓词覆盖准则  
  
   **每个复合谓词所包含的每一个原子谓词都至少获得一次“真”和一次“假”值。**
  2. 分支—谓词覆盖准则  
  
   **不仅原子谓词覆盖，而且每个复合谓词本身也至少获得一次“真”和“假”值。**
  3. 复合谓词覆盖准则  
  
   **每个谓词中条件的各种可能都至少出现一次。**
- 路径覆盖准则  
 **覆盖所有可能路径。**
- 各种覆盖准则间的关系  

### 代码审查

- **软件静态测试**中常用的软件测试方法，发现架构及时序相关等较难发现的问题。
- 帮助团队成员**统一编程风格，提高编程技能**等。
- 公认为提高代码质量的有效手段。

### 代码走查

- **软件静态测试**方法之一。
- 具体方法  
 测试人员成小组，准备代表性测试用例，集体扮演计算机的角色，沿程序逻辑，逐步运行测试用例，查找被测软件缺陷。

## 第五章 基于缺陷模式的软件测试

### 基于缺陷模式的软件测试概述

缺陷模式  

- 程序中经常发生的错误或缺陷所呈现的语法及语义特征
- 通常由领域程序设计经验的程序员或测试人员总结出来
- 不同编程语言，往往不同缺陷模式集

技术特点

- 针对性强。
- 往往发现其他测试技术难发现的故障，如小概率、不明显、误操作。
- 工具自动化程度高以及测试效率高。
- 缺陷定位准确。

### 缺陷模式及实例

以缺陷产生后果的严重性高低为评判标准，从程序的源代码形式着眼，分类：

- 故障模式  
 一经产生，会导致系统异常或出错
- 安全漏洞模式  
 为系统留下安全隐患，为攻击系统开绿灯
- 疑问代码模式  
 未必造成系统错误，可能误操作，或不熟悉开发程序造成，起到提示作用
- 规则模式

## 集成测试

### 集成测试概述

集成测试的概念

- 也称组装测试、联合测试、子系统测试
- 各软件单元已通过单元测试，检查各个软件单元接口之间的协同工作是否正确
- 通常采用黑盒测试用例设计方法、灰盒测试方法

#### 集成测试与系统测试的区别

|测试对象|单元|系统|
|:--:|:--:|:--:|
|测试时间|开发过程|开发完成|
|测试方法|黑白结合|黑盒|
|测试内容|接口|需求|
|测试目的|接口错误|需求不一致|
|测试角度|开发者|用户|

### 集成测试策略

模块组装方法

- 非渐增式集成  
 先分别测试每个模块，再把所有模块按设计要求放在一起结合成所要的程序。
- 渐增式集成  
 把下一个要测试的模块和已测好的模块结合测试，然后依次增加结合测试。  
 同时完成单元测试和集成测试。

辅助模块

- 驱动模块（Driver）  
 模拟待测模块的上级模块；接收测试数据，传递给待测模块，启动待测模块，打印相应结果。
- 桩模块（Stub）
 也称**存根程序**。模拟待测模块**工作过程中所调用**的模块。由待测模块调用，一般只进行很少的**数据**处理。

#### 非渐增式集成

- 单元测试后，全部集成起来一次性测试。  
- 只适用于规模较小的应用系统，大、中型系统中不推荐。

#### 渐增式集成

- 把程序划分成小段来构造和测试
- 容易定位和改正错位；对接口可进行更彻底的测试；可使用系统化的测试方法。**普遍采用渐增式集成方法。**
- 渐增方式**自顶向下、自底向上和三明治集成**三种策略。

1. 自顶向下集成
   - 自主控制模块开始，沿程序控制层次向下移动，逐渐结合各模块。
   - 使用深度优先策略，或宽度优先策略。  
   - 步骤：
     1. 对主控模块进行测试，测试时用桩模块代替所有直接附属于主控模块的模块。
     2. 根据选定的结合策略（深度or宽度优先），每次用一个实际模块代换一个桩模块（新结合进的模块往往又需要新的桩模块）。
     3. 为保证不引进新的错误，可能需要回归测试（全部或部分地重复以前做过的测试）。
   - 优点：
     1. 可及早发现主控模块的问题解决。
     2. 如果深度优先，可早期实现并验证一个完整功能，增强用户和开发人员信心。
   - 缺点：
     1. 桩模块代替了低层次的实际模块，没有重要的数据自下往上流。
2. 自底向下集成
   - 从原子模块开始组装和测试
   - 不需要桩模块
   - 步骤
     1. 底层模块组合成实现某个特定的软件子功能的族
     2. 写驱动程序（用于测试的控制程序），协调测试数据的输入和输出
     3. 对由模块组成的子功能族进行测试
     4. 去掉驱动程序，沿软件结构自下向上以冬，把族结合成更大的子功能组
3. 三明治集成
   - 混合增量式测试策略，结合自顶向下和自底向上的优点
   - 桩模块和驱动模块的开发工作都小
   - 代价：增加定位缺陷的难度
   - 过程：
     1. 确定哪一层为界进行集成
     2. 对界层及所在层下面各层使用自底向上集成
     3. 上面层次使用自顶向下集成
     4. 对系统整体测试

## 系统测试

- **系统测试的任务：**开发的软件只是实际投入使用系统的一个组成部分，还需检测它与系统其他部分能否协调地工作。
- 针对系统中各个组成部分进行的综合性检验，接近人们的日常测试实践。

### 性能测试的基本概念

- 性能
  1. 软件系统或架构对于**及时性**要求的符合程度的指标
  2. 软件产品的一种**特性**。通常用系统对请求做出**响应所需要的时间来衡量**。
- 性能测试  
 检验软件是否达到性能指标，并满足性能相关约束和限制条件。
- 性能测试的目的  
 确认软件是否满足**性能需求**，发现系统**性能瓶颈**，对系统进行**优化**。
- 性能测试的方法：
  1. 基准法  
     - 响应时间
     - 并发用户
     - 吞吐量
     - 性能计数器
  2. 性能下降曲线分析法等

### 压力测试

压力测试基本概念

- Stress Testing指模拟巨大的工作负荷，以查看系统在峰值使用情况下是否可以正常运行
- 通过**逐步增加系统负载**来测试系统性能变化，最终确定在**什么负载**条件下系统性能失效，以此获得系统性能提供的**最大服务级别**。

压力测试方法

- 重复
- 并发
- 量级增加
- 随机

### 健壮性测试基本概念

- 健壮性测试（Robustness Testing）
  1. 主要用于测试系统抵御错误的能力
  2. 错误通常指由于**设计缺陷**而带来的系统错误。测试重点：当出现故障时，能否**自动恢复**或忽略故障**继续运行**。
- 健壮性测试的现状
  1. 受开发成本、时间、人员等条件约束，测试关注点在功能正确性上面，往往分配少量资源在确定系统的异常处理，从而忽略系统健壮性。
  2. 该矛盾随软件应用的日益普遍而异常突出，所以好的软件系统必须经过健壮性测试后才能最终交付给用户。

### 安全性测试

- 安全测试基本概念  
- 安全测试手段  
- 安全测试层次
- 安全测试方法
  1. 功能验证
  2. 漏洞扫描
  3. 模拟攻击
  4. 侦听技术

### 可靠性测试

- 可靠性测试概念
  1. 软件可靠性
     - 在规定时间、规定运行剖面上运行规定的软件，测试其是否能正常执行。
  2. 度量指标
     - 平均无故障时间是否超过规定时限
     - 因故障而停机的时间在一年中不超过多少时间等
  3. 可用**软件可靠性模型**来评估指标的有效性
     - 目前已建立了六十余种不同类型的可靠性模型
     - 分别为指数失效时间模型、Weibull和Gamma分布失效时间模型、无限失效时间模型、Bayes模型。
- 可靠性测试基本参数
